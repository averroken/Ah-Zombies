<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <title>Ah Zombies</title>
    <link rel="stylesheet" href="../public/css/uikit.almost-flat.min.css"/>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/uikit/2.24.3/css/components/slidenav.gradient.min.css"/>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/uikit/2.24.3/css/components/dotnav.gradient.min.css"/>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/uikit/2.24.3/css/components/slideshow.gradient.min.css"/>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous" defer></script>
    <script src="../public/js/uikit.min.js" defer></script>

    <script type="text/javascript" src="../public/game/js/phaser.js"></script>
    <script type="text/javascript" src="../public/game/js/Boot.js"></script>
    <script type="text/javascript" src="../public/game/js/Preload.js"></script>
    <script type="text/javascript" src="../public/game/js/Game.js"></script>
    <script type="text/javascript" src="../public/game/js/Game2.js"></script>
    <script type="text/javascript" src="../public/game/largeMapTest.js"></script>
    <script type="text/javascript" src="../public/game/js/room_1.js"></script>
    <script type="text/javascript" src="../public/game/js/room_2.js"></script>
    <script type="text/javascript" src="../public/game/js/room_3.js"></script>
    <script type="text/javascript" src="../public/game/js/room_4.js"></script>
    <script type="text/javascript" src="../public/game/js/room_5.js"></script>
    <script type="text/javascript" src="../public/game/js/room_6.js"></script>
    <script type="text/javascript" src="../public/game/js/room_7.js"></script>
    <script type="text/javascript" src="../public/game/js/room_8.js"></script>

    <style>
        body {
            background-color: white;
        }

        .black {
            background-color: black;
        }

        .wrapper {
            display: flex;
            flex-flow: wrap row;
        }

        .wrapper > * {
            flex: 1 100%;
        }

        .game {
            height: 600px;
        }

        .chat {
            height: 100px;
        }
    </style>
</head>
<body>
<nav class="uk-navbar uk-margin-medium-bottom">
    <ul class="uk-navbar-nav uk-hidden-small uk-margin-large-left">
        <a href="" class="uk-navbar-brand">Logo</a>
        <li><a href="../index.html">Home</a></li>
        <li><a href="">Game</a></li>
        <li><a href="contact.html">Contact</a></li>
    </ul>
    <ul class="uk-navbar-nav uk-navbar-flip uk-hidden-small uk-margin-large-right">
        <li class="uk-parent" data-uk-dropdown>
            <a href="">Account</a>
            <div class="uk-dropdown uk-dropdown-navbar">
                <ul class="uk-nav uk-nav-navbar uk-nav-parent-icon">
                    <li class="uk-text-center uk-text-bold">Sign In</li>
                    <li class="uk-text-center uk-margin-top">
                        <input type="text" placeholder="Username" name="username"
                               id="usernameID"/></li>
                    <li class="uk-text-center uk-margin-top">
                        <input type="password" placeholder="Password"
                               name="password" id="passwordID"/></li>
                    <li class="uk-text-center uk-margin-top">
                        <button class="uk-button"><a href="pages/signup.html">Sign in</a></button>
                        &nbsp;&nbsp;
                        <button class="uk-button"><a href="pages/signup.html">Register</a></button>
                    </li>
                </ul>
            </div>
        </li>
    </ul>
    <ul class="uk-navbar-nav uk-visible-small">
        <a href="#my-id" class="uk-navbar-toggle" data-uk-offcanvas></a>
        <li class="uk-navbar-content">MENU</li>
    </ul>
</nav>

<div class="uk-container uk-container-center uk-margin-top uk-margin-large-bottom">

    <div class="my-container uk-panel uk-panel-box uk-width-large-1-1 uk-width-small-1-1 uk-align-center ">

        <div class="uk-animation-scale-up">
            <div class="testGame" id="game">

            </div>
        </div>
        <div class="uk-panel-box uk-animation-scale-up">
            <div class="testChat">

            </div>
        </div>
        <form class="uk-panel uk-form">
            <fieldset>
                <div class="uk-form-row">
                    <div class="uk-form-controls">
                        <input class="uk-display-block uk-position-bottom uk-width-1-1" type="text" id="form-input-name"
                               placeholder="Message"
                               required>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
</div>

<div id="my-id" class="uk-offcanvas">
    <div class="uk-offcanvas-bar">
        <ul class="uk-nav uk-nav-offcanvas uk-nav-parent-icon" data-uk-nav>
            <li class="uk-active"><a href="">Home</a></li>
            <li><a href="">Game</a></li>
            <li><a href="">Sign In</a></li>
            <li><a href="">Sign Up</a></li>
            <li><a href="">Contact</a></li>
        </ul>
    </div>
</div>

<div class="black uk-contrast uk-block-large wrapper uk-text-center ">
    <h1 class=" uk-heading-large ">Ah! Zombies</h1>
    <div>
        <a href="">Home</a>
        |
        <a href="">Game</a>
        |
        <a href="">Contact</a>
    </div>
</div>


<script type="text/javascript" src="../public/game/js/main.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript">
    var socket = io();
    var idSet = false;
    var buddies = {};
    var myId;
    var game = TopDownGame.game;


    socket.on('yourId', function (data) {
        setId(data.id);
    });

    function setId(id) {
        if (!idSet) {
            console.log("my id:" + id);
            myId = id;
            idSet = true;
        }
    }

    socket.on('newBuddy', function (data) {
        console.log(player);

        console.log("data.id: " + buddies[data.id]);
        if (myId != data.id && !buddies[data.id] && data.x !== undefined) {

            console.log("NEW BUDDY");

// // adding player
            console.log("x: " + data.x);
            console.log("y: " + data.y);
            test = game.add.sprite(50, 270, 'dude');

//enable physics on player
            game.physics.arcade.enable(test);

//giving the player physics properties
            test.body.bounce.y = 0.3;
            test.body.gravity.y = 300;
            test.body.collideWorldBounds = true;

            test.body.moves = false;

//adding animations to player when walking
            test.animations.add('left', [0, 1, 2, 3], 10, true);
            test.animations.add('right', [5, 6, 7, 8], 10, true);

            test.id = data.id;

// otherPlayers.add(test);
            buddies[data.id] = test;
        }
    });
</script>

</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html lang="en">-->

<!--<head>-->
<!--<meta charset="UTF-8">-->
<!--<title>Phaser 2D tutorial</title>-->

<!--<script type="text/javascript" src="js/phaser.js"></script>-->
<!--<script type="text/javascript" src="js/Boot.js"></script>-->
<!--<script type="text/javascript" src="js/Preload.js"></script>-->
<!--<script type="text/javascript" src="js/Game.js"></script>-->
<!--<script type="text/javascript" src="js/Game2.js"></script>-->
<!--<script type="text/javascript" src="js/largeMapTest.js"></script>-->
<!--<script type="text/javascript" src="js/room_1.js"></script>-->
<!--<script type="text/javascript" src="js/room_2.js"></script>-->
<!--<script type="text/javascript" src="js/room_3.js"></script>-->
<!--<script type="text/javascript" src="js/room_4.js"></script>-->
<!--<script type="text/javascript" src="js/room_5.js"></script>-->
<!--<script type="text/javascript" src="js/room_6.js"></script>-->
<!--<script type="text/javascript" src="js/room_7.js"></script>-->
<!--<script type="text/javascript" src="js/room_8.js"></script>-->

<!--<style media="screen">-->
<!--body {-->
<!--padding: 0px;-->
<!--margin: 0px;-->
<!--}-->
<!--</style>-->
<!--</head>-->

<!--<body>-->
<!--<script type="text/javascript" src="js/main.js"></script>-->
<!--<script src="/socket.io/socket.io.js"></script>-->
<!--<script type="text/javascript">-->
<!--var socket = io();-->
<!--var idSet = false;-->
<!--var buddies = {};-->
<!--var myId;-->
<!--var game = TopDownGame.game;-->


<!--socket.on('yourId', function(data) {-->
<!--setId(data.id);-->
<!--});-->

<!--function setId(id) {-->
<!--if (!idSet) {-->
<!--console.log("my id:" + id);-->
<!--myId = id;-->
<!--idSet = true;-->
<!--}-->
<!--}-->

<!--socket.on('newBuddy', function(data) {-->
<!--console.log(player);-->

<!--console.log("data.id: " + buddies[data.id]);-->
<!--if (myId != data.id && !buddies[data.id] && data.x !== undefined) {-->

<!--console.log("NEW BUDDY");-->

<!--// // adding player-->
<!--console.log("x: " + data.x);-->
<!--console.log("y: " + data.y);-->
<!--test = game.add.sprite(50, 270, 'dude');-->

<!--//enable physics on player-->
<!--game.physics.arcade.enable(test);-->

<!--//giving the player physics properties-->
<!--test.body.bounce.y = 0.3;-->
<!--test.body.gravity.y = 300;-->
<!--test.body.collideWorldBounds = true;-->

<!--test.body.moves = false;-->

<!--//adding animations to player when walking-->
<!--test.animations.add('left', [0, 1, 2, 3], 10, true);-->
<!--test.animations.add('right', [5, 6, 7, 8], 10, true);-->

<!--test.id = data.id;-->

<!--// otherPlayers.add(test);-->
<!--buddies[data.id] = test;-->
<!--}-->
<!--});-->
<!--</script>-->
<!--</body>-->

<!--</html>-->
